import{m as i,_ as s,a}from"./mdb.umd.min.61317297.js";import{e,N as t,m as d,u as o,x as l,y as r,o as n,c as u,b as c,j as v,a as m,q as p,k as h,A as g,F as y,P as k,z as P}from"./vendor.45f5d20f.js";import{_ as w}from"./404.e420ed5b.js";import{u as f,g as b,a as x,b as C}from"./index.ffbdd121.js";const M={name:"VPost",components:{MDBCard:i.exports.MDBCard,MDBCardImg:i.exports.MDBCardImg,LikersModal:s,ToggleFavorite:a,ErrorPage:w},data:()=>({componentKey:0,postReady:!1,showLikersModal:!1,idToCheck:null,waveformOptions:{backend:"MediaElement",mediaControls:!0,barWidth:2,responsive:!0,height:240,hideScrollbar:!0,cursorWidth:1}}),mounted(){this.$nextTick((()=>{this.getContent()}))},methods:{async getContent(){this.postReady=!1;const{getPostById:i,isLiked:s}=f();this.$route.params.id&&(await i(this.$route.params.id),await s([this.$route.params.id])),this.postReady=!0},async updateparent(){const{getPostById:i,isLiked:s}=f();await i(this.$route.params.id),await s([this.$route.params.id]),this.componentKey+=1}},watch:{$route(i,s){i!==s&&this.getContent()}},setup(){const i=f(),{individualPost:s,user:a,account:r,likedArray:n}=e(i),u=new t({duration:2e3,position:{x:"center",y:"bottom"},types:[{type:"loading",background:"orange",duration:0,dismissible:!0,icon:{className:"icon icon-loading",tagName:"i"}}]});return d("notyf",u),{individualPost:s,user:a,account:r,getImgUrl:b,likedArray:n,getAvatar:i=>{let s=o(l,{seed:i,scale:80,translateY:-3}),a=new Blob([s],{type:"image/svg+xml"});return URL.createObjectURL(a)},getCloudinaryUrlImage:x,getCloudinaryUrlVideo:C}}},I={id:"contentPost"},L={key:0,class:"loaderWrapper"},B=[m("div",{class:"lds-dual-ring"},null,-1),m("div",{class:"loaderText"},"loading IPFS metadata...",-1)],H={key:1},T={key:0},U={key:1,class:"wrapper3"},j={class:"box2 itemMedia"},A={class:"figureClassPost"},$={key:0,class:"card-img-style-post",controls:"",controlsList:"nodownload"},D=["src"],E={key:1,class:"card-img-style-post-audio"},R={class:"box2 userName"},F=["src"],N={class:"userName"},S={class:"box2 itemName"},V={class:"bolded"},_={class:"box2 itemDescription"},O={class:"box2 itemAttributes"},W={class:"styled-table"},z=m("thead",{class:"roundedHeader"},[m("tr",null,[m("th",null,"Trait"),m("th",{class:"valueStyle"},"Value")])],-1),K={class:"valueStyle"},q={class:"box2 itemLikes"},Y={key:1,id:"favoriting",class:"likeHeart"},G={key:2,id:"favoriting",class:"likeHeart"},J=m("div",{class:"itemBackground"},null,-1),Q={class:"box2 itemIpfs"},X=["href"],Z=[m("svg",{class:"svgIpfs",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"},[m("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),m("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m("path",{d:"M20.4 14.5L16 10 4 20"})],-1)],ii=["href"],si=[m("svg",{class:"svgIpfs",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"},[m("path",{d:"M14 2H6a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),m("path",{d:"M14 3v5h5M16 13H8M16 17H8M10 9H8"})],-1)];M.render=function(i,e,t,d,o,l){const w=r("ErrorPage"),f=r("wavesurfer"),b=r("MDBCardImg"),x=r("MDBCard"),C=r("router-link"),M=s,ai=a;return n(),u("section",I,[this.postReady?c("",!0):(n(),u("div",L,B)),this.postReady?(n(),u("div",H,[d.individualPost?c("",!0):(n(),u("div",T,[v(w)])),d.individualPost?(n(),u("div",U,[m("div",j,[v(x,{class:"card-style-post hover-overlay"},{default:p((()=>[m("figure",A,["video"==d.individualPost.mediaType?(n(),u("video",$,[m("source",{src:d.getCloudinaryUrlVideo(d.individualPost.mediaHash)},null,8,D)])):c("",!0),"audio"==d.individualPost.mediaType?(n(),u("div",E,[v(f,{src:d.getCloudinaryUrlVideo(d.individualPost.mediaHash),options:o.waveformOptions},null,8,["src","options"])])):c("",!0),"image"==d.individualPost.mediaType?(n(),h(b,{key:2,src:d.getCloudinaryUrlImage(d.individualPost.mediaHash),top:"",hover:"",alt:"...",class:"card-img-style-post"},null,8,["src"])):c("",!0)])])),_:1})]),m("div",R,[v(C,{to:`/user/${d.individualPost.address}`,exact:""},{default:p((()=>[m("img",{src:d.getAvatar(d.individualPost.address.toLowerCase()),class:"round-image-post"},null,8,F)])),_:1},8,["to"]),m("div",N,g(d.individualPost.address.substring(0,4))+"..."+g(d.individualPost.address.slice(-4)),1)]),m("div",S,[m("div",V,g(d.individualPost.name),1)]),m("div",_,[m("div",null,g(d.individualPost.description),1)]),m("div",O,[m("table",W,[z,m("tbody",null,[(n(!0),u(y,null,k(d.individualPost.attributes,((i,s)=>(n(),u("tr",{key:s},[m("td",null,g(i.trait_type),1),m("td",K,g(i.value),1)])))),128))])])]),m("div",q,[m("a",{class:"likesHover",onClick:e[0]||(e[0]=i=>(o.showLikersModal=!0,o.idToCheck=d.individualPost.id))},g(d.individualPost.likes)+" likes ",1),o.showLikersModal&&o.idToCheck==d.individualPost.id?(n(),h(P,{key:0,to:"body"},[v(M,{show:o.showLikersModal,postId:d.individualPost.id,onClose:e[1]||(e[1]=i=>o.showLikersModal=!1)},null,8,["show","postId"])])):c("",!0),d.likedArray[0]?c("",!0):(n(),u("div",Y,[v(ai,{class:"faveButton",id:d.individualPost.id,onLikeEvent:l.updateparent},null,8,["id","onLikeEvent"])])),d.likedArray[0]?(n(),u("div",G,[v(ai,{class:"faveButton",id:d.individualPost.id,intialFavorited:!0,onLikeEvent:l.updateparent},null,8,["id","onLikeEvent"])])):c("",!0)]),J,m("div",Q,[m("a",{href:d.getImgUrl(d.individualPost.mediaHash),title:"IPFS Media"},Z,8,X),m("a",{href:d.getImgUrl(d.individualPost.metaHash),title:"IPFS Metadata"},si,8,ii)])])):c("",!0)])):c("",!0)])};export{M as default};
