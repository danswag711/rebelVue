import{m as e,_ as s,a}from"./mdb.umd.min.61317297.js";import{u as o,a as t,b as d}from"./index.ffbdd121.js";import{e as i,y as r,o as n,c as l,b as c,a as m,F as k,P as y,j as u,q as v,k as h,B as p,A as g,z as C,N as w,m as f}from"./vendor.45f5d20f.js";const M={name:"RandomFeed",emits:["like-event"],components:{MDBCard:e.exports.MDBCard,MDBCardBody:e.exports.MDBCardBody,MDBCardText:e.exports.MDBCardText,MDBCardImg:e.exports.MDBCardImg,LikersModal:s,ToggleFavorite:a},data:()=>({componentKey:0,showModal:!1,showLikersModal:!1,stateLoaded:!1,idToCheck:null,waveformOptions:{backend:"MediaElement",mediaControls:!0,interact:!1,barWidth:2,responsive:!0,height:195,hideScrollbar:!0,cursorWidth:0}}),mounted(){this.$nextTick((()=>{this.checkIsLiked()}))},methods:{async checkIsLiked(){const{isLiked:e,getRandomPosts:s}=o(),a=o(),{randomPostsArray:t}=i(a);await s(),await e(t._rawValue),this.stateLoaded=!0},async updateparent(){this.checkIsLiked(),this.componentKey+=1,this.$emit("like-event",!0)}},setup(){const e=o(),{randomPosts:s,likedArray:a}=i(e);return{randomPosts:s,getCloudinaryUrlImage:t,getCloudinaryUrlVideo:d,likedArray:a}}},L={key:0},B={key:0,class:"noPostsDiv"},D={class:"wrapperFeed"},I={class:"media-wrap"},P={class:"figureClassFeed"},x={key:0,class:"card-img-style",controls:"",controlsList:"nodownload"},T=["src"],F={key:1,class:"audioCardFeed"},b=["onClick"],R={key:1,id:"favoriting"},A={key:2,id:"favoriting"};M.render=function(e,o,t,d,i,w){const f=r("wavesurfer"),M=r("MDBCardImg"),_=r("router-link"),E=r("MDBCardText"),U=s,V=a,H=r("MDBCardBody"),K=r("MDBCard");return this.stateLoaded?(n(),l("div",L,[d.randomPosts[0]?c("",!0):(n(),l("div",B,"no posts yet.")),m("div",D,[(n(!0),l(k,null,y(d.randomPosts,((e,s)=>(n(),l("div",{class:"gallery-panel",key:s},[m("div",I,[u(K,{class:"card-style hover-overlay"},{default:v((()=>[u(_,{to:`/post/${e.id}`,"active-class":"active",exact:""},{default:v((()=>[m("figure",P,["video"==e.mediaType?(n(),l("video",x,[m("source",{src:d.getCloudinaryUrlVideo(e.mediaHash)},null,8,T)])):c("",!0),"audio"==e.mediaType?(n(),l("div",F,[u(f,{src:d.getCloudinaryUrlVideo(e.mediaHash),options:i.waveformOptions},null,8,["src","options"])])):c("",!0),"image"==e.mediaType?(n(),h(M,{key:2,src:d.getCloudinaryUrlImage(e.mediaHash),top:"",hover:"",alt:"...",class:"card-img-style"},null,8,["src"])):c("",!0)])])),_:2},1032,["to"]),u(H,{class:"card-body"},{default:v((()=>[u(E,{class:"cardName"},{default:v((()=>[p(g(e.name),1)])),_:2},1024),u(E,null,{default:v((()=>[m("a",{class:"likesHover",onClick:s=>(i.showLikersModal=!0,i.idToCheck=e.id)},g(e.likes)+" likes ",9,b),i.showLikersModal&&i.idToCheck==e.id?(n(),h(C,{key:0,to:"body"},[u(U,{show:i.showLikersModal,postId:e.id,onClose:o[0]||(o[0]=e=>i.showLikersModal=!1)},null,8,["show","postId"])])):c("",!0),d.likedArray[s]?c("",!0):(n(),l("div",R,[u(V,{id:e.id,onLikeEvent:w.updateparent},null,8,["id","onLikeEvent"])])),d.likedArray[s]?(n(),l("div",A,[u(V,{id:e.id,intialFavorited:!0,onLikeEvent:w.updateparent},null,8,["id","onLikeEvent"])])):c("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])])))),128))])])):c("",!0)};const _={name:"DiscoverFeed",emits:["like-event"],components:{MDBCard:e.exports.MDBCard,MDBCardBody:e.exports.MDBCardBody,MDBCardText:e.exports.MDBCardText,MDBCardImg:e.exports.MDBCardImg,LikersModal:s,ToggleFavorite:a},data:()=>({componentKey:0,showModal:!1,showLikersModal:!1,stateLoaded:!1,idToCheck:null,waveformOptions:{backend:"MediaElement",mediaControls:!0,interact:!1,barWidth:2,responsive:!0,height:195,hideScrollbar:!0,cursorWidth:0}}),mounted(){this.$nextTick((()=>{this.checkIsLiked()}))},methods:{async checkIsLiked(){const{isLiked:e,getPostsLatest:s}=o(),a=o(),{latestPostsArray:t}=i(a);await s(),await e(t._rawValue),this.stateLoaded=!0},async updateparent(){const{isLiked:e,getPostsLatest:s}=o(),a=o(),{latestPostsArray:t}=i(a);await s(),await e(t._rawValue),this.componentKey+=1,this.$emit("like-event",!0)}},setup(){const e=o(),{latestPosts:s,likedArray:a}=i(e);return{latestPosts:s,likedArray:a,getCloudinaryUrlImage:t,getCloudinaryUrlVideo:d}}},E={key:0,class:"containerFeed"},U={key:0,class:"noPostsDiv"},V={class:"wrapperFeed"},H={class:"media-wrap-feed"},K={class:"figureClassFeed"},S={key:0,class:"card-img-style",controls:"",controlsList:"nodownload"},$=["src"],N={key:1,class:"audioCardFeed"},W=["onClick"],j={key:1,id:"favoriting"},O={key:2,id:"favoriting"};_.render=function(e,o,t,d,i,w){const f=r("wavesurfer"),M=r("MDBCardImg"),L=r("router-link"),B=r("MDBCardText"),D=s,I=a,P=r("MDBCardBody"),x=r("MDBCard");return this.stateLoaded?(n(),l("div",E,[d.latestPosts[0]?c("",!0):(n(),l("div",U,"no posts yet.")),m("div",V,[(n(!0),l(k,null,y(d.latestPosts,((e,s)=>(n(),l("div",{class:"gallery-panel-feed",key:s},[m("div",H,[u(x,{class:"card-style hover-overlay"},{default:v((()=>[u(L,{to:`/post/${e.id}`,"active-class":"active",exact:""},{default:v((()=>[m("figure",K,["video"==e.mediaType?(n(),l("video",S,[m("source",{src:d.getCloudinaryUrlVideo(e.mediaHash)},null,8,$)])):c("",!0),"audio"==e.mediaType?(n(),l("div",N,[u(f,{src:d.getCloudinaryUrlVideo(e.mediaHash),options:i.waveformOptions},null,8,["src","options"])])):c("",!0),"image"==e.mediaType?(n(),h(M,{key:2,src:d.getCloudinaryUrlImage(e.mediaHash),top:"",hover:"",alt:"...",class:"card-img-style"},null,8,["src"])):c("",!0)])])),_:2},1032,["to"]),u(P,{class:"card-body"},{default:v((()=>[u(B,{class:"cardName"},{default:v((()=>[p(g(e.name),1)])),_:2},1024),u(B,null,{default:v((()=>[m("a",{class:"likesHover",onClick:s=>(i.showLikersModal=!0,i.idToCheck=e.id)},g(e.likes)+" likes ",9,W),i.showLikersModal&&i.idToCheck==e.id?(n(),h(C,{key:0,to:"body"},[u(D,{show:i.showLikersModal,postId:e.id,onClose:o[0]||(o[0]=e=>i.showLikersModal=!1)},null,8,["show","postId"])])):c("",!0),d.likedArray[s]?c("",!0):(n(),l("div",j,[u(I,{id:e.id,onLikeEvent:w.updateparent},null,8,["id","onLikeEvent"])])),d.likedArray[s]?(n(),l("div",O,[u(I,{id:e.id,intialFavorited:!0,onLikeEvent:w.updateparent},null,8,["id","onLikeEvent"])])):c("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])])))),128))])])):c("",!0)};const q={name:"VFeed",components:{DiscoverFeed:_,RandomFeed:M},data:()=>({componentKey:0,showRandomPosts:!1}),methods:{toggleShowRandomItems(){this.showRandomPosts=!this.showRandomPosts}},watch:{$route(e,s){e===s||"feed"!=e.name&&"home"!=e.name||(this.componentKey+=1)}},setup(){const e=new w({duration:2e3,position:{x:"center",y:"bottom"},types:[{type:"loading",background:"orange",duration:0,dismissible:!0,icon:{className:"icon icon-loading",tagName:"i"}}]}),s=o(),{account:a}=i(s);return f("notyf",e),{account:a}}},z={key:0,class:"main animated"},G={class:"main-content"},J={class:"feedHeader"},Q={class:"toggleWrapper"},X={key:0,class:"latestInactive"},Y={key:0,class:"latestActive"},Z=m("div",{class:"divider"},"|",-1),ee={key:0,class:"randomInactive"},se={key:1,class:"randomActive"},ae={class:"feedGrid"},oe={key:0,class:"feedBox"},te={key:1,class:"feedBox"};q.render=function(e,s,a,o,t,d){const i=r("DiscoverFeed"),k=M;return n(),l("section",{id:"content",key:t.componentKey},[o.account?(n(),l("div",z,[m("div",G,[m("div",J,[m("div",Q,[m("a",{onClick:s[0]||(s[0]=(...e)=>d.toggleShowRandomItems&&d.toggleShowRandomItems(...e))},[t.showRandomPosts?(n(),l("div",X,"latest")):c("",!0)]),t.showRandomPosts?c("",!0):(n(),l("div",Y,"latest")),Z,m("a",{onClick:s[1]||(s[1]=(...e)=>d.toggleShowRandomItems&&d.toggleShowRandomItems(...e))},[t.showRandomPosts?c("",!0):(n(),l("div",ee,"random"))]),t.showRandomPosts?(n(),l("div",se,"random")):c("",!0)])]),m("div",ae,[t.showRandomPosts?c("",!0):(n(),l("div",oe,[u(i)])),t.showRandomPosts?(n(),l("div",te,[u(k)])):c("",!0)])])])):c("",!0)])};export{q as default};
